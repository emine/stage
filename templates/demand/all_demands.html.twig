{# emplate/demand/all_demands.html #}
{% extends 'base.html.twig' %}

{# 
vars passed by controller : 
    demands : array of demand entities
#}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('all_demands') }}
{% endblock %}


{%  block body %}

<h1 class="text-center">Toutes les demandes</h1>
<input class="form-control mb-3" id="search-all-demands" placeholder="Rechercher">
    
<div class="row">
{% for demand in demands %}
    <div class="col-md-4">
        <div class="card mb-3" style="width: 300px">
            {# 
                use ~ to concatenate
            #}
            <img src="{{ asset('uploads/' ~ demand.photo ) }}" class="card-img-top" alt="photo"/>
            <div class="card-body">
              <h5 class="card-title">{{ demand.title}}</h5>
               <h6 class="card-subtitle mb-2 text-muted">créée le {{ demand.date_created|date("d/m/Y") }}</h6>
              <a href="{{ app.request.baseUrl}}/demand/show/{{ demand.id }}" class="btn btn-outline-primary">Voir</a>
            </div>
        </div>
    </div>
{% endfor %}
</div>

{% endblock %}